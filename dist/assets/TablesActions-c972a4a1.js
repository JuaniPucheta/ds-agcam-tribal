import{_ as O}from"./_plugin-vue_export-helper-c27b6911.js";import{V as U,b as S}from"./VToolbar-aee3e6f7.js";import{p as B,as as F,aC as R,g as j,u as z,at as A,r as N,aq as K,w as y,c as L,h as q,av as D,i as e,R as M,j as I,am as G,ap as H,aD as J,x as W,l as Y,U as Z,q as a,v as d,aw as $,ax as h,a0 as m,_ as Q,Z as X,a3 as V,V as x}from"./index-17bf78ba.js";import{V as w,c as T,a as ee,b as E}from"./VCard-f29c5544.js";import{V as te}from"./VContainer-db9d2547.js";import{V as ae}from"./VRow-34ba01a8.js";import{V as b}from"./VCol-0c5d6296.js";const le=B({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...F({origin:"center center",scrollStrategy:"block",transition:{component:R},zIndex:2400})},"VDialog"),P=j()({name:"VDialog",props:le(),emits:{"update:modelValue":t=>!0},setup(t,o){let{slots:f}=o;const u=z(t,"modelValue"),{scopeId:C}=A(),s=N();function g(i){var c,p;const r=i.relatedTarget,n=i.target;if(r!==n&&((c=s.value)!=null&&c.contentEl)&&((p=s.value)!=null&&p.globalTop)&&![document,s.value.contentEl].includes(n)&&!s.value.contentEl.contains(n)){const v=J(s.value.contentEl);if(!v.length)return;const k=v[0],_=v[v.length-1];r===k?_.focus():k.focus()}}K&&y(()=>u.value&&t.retainFocus,i=>{i?document.addEventListener("focusin",g):document.removeEventListener("focusin",g)},{immediate:!0}),y(u,async i=>{var r,n;await H(),i?(r=s.value.contentEl)==null||r.focus({preventScroll:!0}):(n=s.value.activatorEl)==null||n.focus({preventScroll:!0})});const l=L(()=>I({"aria-haspopup":"dialog","aria-expanded":String(u.value)},t.activatorProps));return q(()=>{const[i]=D.filterProps(t);return e(D,I({ref:s,class:["v-dialog",{"v-dialog--fullscreen":t.fullscreen,"v-dialog--scrollable":t.scrollable},t.class],style:t.style},i,{modelValue:u.value,"onUpdate:modelValue":r=>u.value=r,"aria-modal":"true",activatorProps:l.value,role:"dialog"},C),{activator:f.activator,default:function(){for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return e(M,{root:"VDialog"},{default:()=>{var p;return[(p=f.default)==null?void 0:p.call(f,...n)]}})}})}),G({},s)}}),se={data:()=>({dialog:!1,dialogDelete:!1,headers:[{title:"Dessert (100g serving)",align:"start",sortable:!1,key:"name"},{title:"Calories",key:"calories"},{title:"Fat (g)",key:"fat"},{title:"Carbs (g)",key:"carbs"},{title:"Protein (g)",key:"protein"},{title:"Actions",key:"actions",sortable:!1}],desserts:[],editedIndex:-1,editedItem:{name:"",calories:0,fat:0,carbs:0,protein:0},defaultItem:{name:"",calories:0,fat:0,carbs:0,protein:0}}),computed:{formTitle(){return this.editedIndex===-1?"New Item":"Edit Item"}},watch:{dialog(t){t||this.close()},dialogDelete(t){t||this.closeDelete()}},created(){this.initialize()},methods:{initialize(){this.desserts=[{name:"Frozen Yogurt",calories:159,fat:6,carbs:24,protein:4},{name:"Ice cream sandwich",calories:237,fat:9,carbs:37,protein:4.3},{name:"Eclair",calories:262,fat:16,carbs:23,protein:6},{name:"Cupcake",calories:305,fat:3.7,carbs:67,protein:4.3},{name:"Gingerbread",calories:356,fat:16,carbs:49,protein:3.9},{name:"Jelly bean",calories:375,fat:0,carbs:94,protein:0},{name:"Lollipop",calories:392,fat:.2,carbs:98,protein:0},{name:"Honeycomb",calories:408,fat:3.2,carbs:87,protein:6.5},{name:"Donut",calories:452,fat:25,carbs:51,protein:4.9},{name:"KitKat",calories:518,fat:26,carbs:65,protein:7}]},editItem(t){this.editedIndex=this.desserts.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem(t){this.editedIndex=this.desserts.indexOf(t),this.editedItem=Object.assign({},t),this.dialogDelete=!0},deleteItemConfirm(){this.desserts.splice(this.editedIndex,1),this.closeDelete()},close(){this.dialog=!1,this.$nextTick(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1})},closeDelete(){this.dialogDelete=!1,this.$nextTick(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1})},save(){this.editedIndex>-1?Object.assign(this.desserts[this.editedIndex],this.editedItem):this.desserts.push(this.editedItem),this.close()}}},oe={class:"dark:bg-slate-700 h-screen flex justify-center items-center"},ie={class:"text-h5"};function re(t,o,f,u,C,s){const g=W("v-data-table");return Y(),Z("div",oe,[e(g,{headers:t.headers,items:t.desserts,"sort-by":[{key:"calories",order:"asc"}],class:"mx-auto pa-12 pb-8 dark:bg-slate-100"},{top:a(()=>[e(U,{flat:""},{default:a(()=>[e(S,null,{default:a(()=>[d("My CRUD")]),_:1}),e($,{class:"mx-4",inset:"",vertical:""}),e(h),e(P,{modelValue:t.dialog,"onUpdate:modelValue":o[5]||(o[5]=l=>t.dialog=l),"max-width":"500px"},{activator:a(({props:l})=>[e(m,I({color:"primary",dark:"",class:"mb-2"},l),{default:a(()=>[d(" New Item ")]),_:2},1040)]),default:a(()=>[e(w,null,{default:a(()=>[e(T,null,{default:a(()=>[Q("span",ie,X(s.formTitle),1)]),_:1}),e(ee,null,{default:a(()=>[e(te,null,{default:a(()=>[e(ae,null,{default:a(()=>[e(b,{cols:"12",sm:"6",md:"4"},{default:a(()=>[e(V,{modelValue:t.editedItem.name,"onUpdate:modelValue":o[0]||(o[0]=l=>t.editedItem.name=l),label:"Dessert name"},null,8,["modelValue"])]),_:1}),e(b,{cols:"12",sm:"6",md:"4"},{default:a(()=>[e(V,{modelValue:t.editedItem.calories,"onUpdate:modelValue":o[1]||(o[1]=l=>t.editedItem.calories=l),label:"Calories"},null,8,["modelValue"])]),_:1}),e(b,{cols:"12",sm:"6",md:"4"},{default:a(()=>[e(V,{modelValue:t.editedItem.fat,"onUpdate:modelValue":o[2]||(o[2]=l=>t.editedItem.fat=l),label:"Fat (g)"},null,8,["modelValue"])]),_:1}),e(b,{cols:"12",sm:"6",md:"4"},{default:a(()=>[e(V,{modelValue:t.editedItem.carbs,"onUpdate:modelValue":o[3]||(o[3]=l=>t.editedItem.carbs=l),label:"Carbs (g)"},null,8,["modelValue"])]),_:1}),e(b,{cols:"12",sm:"6",md:"4"},{default:a(()=>[e(V,{modelValue:t.editedItem.protein,"onUpdate:modelValue":o[4]||(o[4]=l=>t.editedItem.protein=l),label:"Protein (g)"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(E,null,{default:a(()=>[e(h),e(m,{color:"blue-darken-1",variant:"text",onClick:s.close},{default:a(()=>[d(" Cancel ")]),_:1},8,["onClick"]),e(m,{color:"blue-darken-1",variant:"text",onClick:s.save},{default:a(()=>[d(" Save ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(P,{modelValue:t.dialogDelete,"onUpdate:modelValue":o[6]||(o[6]=l=>t.dialogDelete=l),"max-width":"500px"},{default:a(()=>[e(w,null,{default:a(()=>[e(T,{class:"text-h5"},{default:a(()=>[d("Are you sure you want to delete this item?")]),_:1}),e(E,null,{default:a(()=>[e(h),e(m,{color:"blue-darken-1",variant:"text",onClick:s.closeDelete},{default:a(()=>[d("Cancel")]),_:1},8,["onClick"]),e(m,{color:"blue-darken-1",variant:"text",onClick:s.deleteItemConfirm},{default:a(()=>[d("OK")]),_:1},8,["onClick"]),e(h)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),"item.actions":a(({item:l})=>[e(x,{size:"small",class:"me-2",onClick:i=>s.editItem(l.raw)},{default:a(()=>[d(" mdi-pencil ")]),_:2},1032,["onClick"]),e(x,{size:"small",onClick:i=>s.deleteItem(l.raw)},{default:a(()=>[d(" mdi-delete ")]),_:2},1032,["onClick"])]),"no-data":a(()=>[e(m,{color:"primary",onClick:s.initialize},{default:a(()=>[d(" Reset ")]),_:1},8,["onClick"])]),_:1},8,["headers","items"])])}const Ve=O(se,[["render",re]]);export{Ve as default};
